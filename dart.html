<img  align="right" src="https://github.com/UCLanCSC/CSResources/blob/main/images/general/logo.jpg?raw=true" style="zoom:10%" />

# CO2404 : Cross Platform Development

### Lab : Dart

> **Remember** labs often follow-on from the lectures. If you are stuck you should review your lecture notes, slides or recording as essential information is contained in the topics you learn week-on-week. Practical work (labs and coursework) will require you to review past lecture materials as you will be required to assimilate this knowledge over time. 

**You will need to demo work to your tutor to sign off at the end of each session**



## Summary

By the end of this session you will have experienced the Dart programming language. You will have written Dart code that declares various variables, written functions to perform tasks, handled conditions and loops to iterate the check conditions and written a class to hold data that will be useful when passing data between views and to the server. 

## Aim

The lab aims to;

1. Introduce the basic syntax in programming with Dart
2. Expose you to the Visual Studio Code environment enabling you to become familiar with the terminology used in writing and debugging applications
3. Provide the foundations in programming with Dart



## Intended Learning Outcome ##

This lab intends to contribute towards achieving ILO's 1 and 4: Develop a cross platform application for mobile using a modern development environment, and critically evaluate solutions to problems relating to cross platform mobile applications.



## Introduction

In this lab, you will begin to write Dart code. Following on from the lecture you will be expected to become familiar with the syntax  declaring variables, functions and writing loops and classes. This is an introductory session where it will be built upon as the labs progress. It is important you follow these lab materials and complete weekly to avoid falling behind. 



## Activities

This lab is constructed to provide you the basic knowledge in getting familiar with Visual Studio Code. This las assumes you have completed the set up of the environment correctly. 

> **Remember** for any of your modules its good housekeeping to create a structure to your work. Each module should have it's own folder, inside each module, you should split up the work either by lecture and labs or weeks. Inside each lab you should further breakdown your work. You should also have a separate folder for assignments. This will help you manage your workload as your course progresses.    

### Activity 1: Getting familiar with Dart ###

As you know Dart is the programming language used for developing cross platform mobile applications with Flutter. Dart is compiled to native, statically-typed, object oriented, procedural language that is similar C#, Java, C++, C, Swift and TypeScript, JavaScript. 

- A language is **statically**-**typed** if the **type** of a variable is known at compile-time instead of at run-time.
- **Object**-**oriented** programming (OOP) is a programming language model that organizes software design around data, or **objects**, rather than functions and logic.
- **Procedures**, also known as routines, subroutines, or functions, simply contain a series of computational steps to be carried out.

Dart supports a range of programming aids such as classes, interfaces, collections, generics and option typing. 

If you have yet to set up VSC you can always program Dart in the browser using the [DartPad.dev](https://dartpad.dev/) web application. For the purpose of this lab, it doesn't matter if you write your code inside VSC or DartPad as you are learning the basics of Dart programming. We are not building Flutter applications at the moment.

> **VSC Only** If you are writing code inside VSC you will need to create a Dart project (*note* this is different from a Flutter project). Using the 'Command Palette' (Ctrl + Shift + P) type Dart project select Dart: New Project and choose Console Application, specify the location where you want the files creating.

- [ ] All Dart code starts with a main function

  ```dart
  void main() {
   
  }
  ```

- [ ] Start by printing 'hello world' to the console (Hint! this need to be written inside the main function

  ```dart
  print('hello world'); 
  ```

- [ ] Run this code, in VSC you will need to save and run using Debugger (F5). In DartPad you can just click 'Run'

  The console window should print the string Hello World.

- [ ] Modify the code so that hello world is stored in a variable and print the variable

- [ ] Run the code

  > - Dart ignores spaces, tabs, and newlines that appear in programs. You can use spaces, tabs, and newlines freely in your program and you are free to format and indent your programs in a neat and consistent way that makes the code easy to read and understand
  >
  > - Dart is case-sensitive. This means that Dart differentiates between uppercase and lowercase characters
  >
  > - Each line of instruction is called a statement. Each dart statement must end with a semicolon (;). A single line can contain multiple statements. However, these statements must be separated by a semicolon
  >
  > - Comments are written like so:
  >
  >   ```dart
  >   // this is single line comment  
  >                   
  >   /* This is a   
  >      Multi-line comment  
  >   */ 
  >   ```

- [ ] Modify the code to include some comments 

- [ ] Update the main function to include an integer and double with any value 

- [ ] Modify the print statement to include these new variables

  > **Note** as the print statement prints a String, int and double. You need to adopt string interpolation or append the toString() method to the variable
  >
  > ```dart
  >  print("$hw $x"); //String interpolation
  >  print(hw + " " + y.toString()); //toString() method
  > ```

- [ ] Add two final and const variables (a1, b1) and set their values to 10 and 11

  ```dart
  final a1 = 10;
  const b1 = 11;
  ```

- [ ] On a new line reset b1 to equal 12

- [ ] In a comment write why this is not acceptable

- [ ] Add a further const variable c1 to equal b1 + 1

- [ ] In a comment write why this is acceptable 

- [ ] Add the following items into an Array of Strings ("Android", "iOS", "Web", "Desktop", "Wearable", "Smart Speaker")

- [ ] Print 'Web' by referencing the item within the array. **Hint!** you will need to use the reference of the array item using the squared bracket and item index [2]

- [ ] Update the code to add 'Smart Car' as a new item to the array. You will need to use the '.add' method, by using the variable name of the array and appending the method and value to it. 

- [ ] Print the new length of the array using the '.length' method 

  If the console prints 7, you have done this correctly

  The length method is used to determine the size of an array.

- [ ] You can also remove an item from an array using either the '.remove' or '.removeAt' methods. The remove method takes the value you wish to remove whereas the removeAt method takes the index value

  ```dart
  .removeAt(1);
  .remove('Wearable');
  ```

- [ ] Review the String methods and consider where you might use these methods

  | Sr.No | Methods & Description                                        |
  | ----- | ------------------------------------------------------------ |
  | 1     | [toLowerCase()](https://www.tutorialspoint.com/dart_programming/dart_programming_string_tolowercase_method.htm) Converts all characters in this string to lower case. |
  | 2     | [toUpperCase() ](https://www.tutorialspoint.com/dart_programming/dart_programming_string_toUppercase_method.htm)Converts all characters in this string to upper case. |
  | 3     | [trim()](https://www.tutorialspoint.com/dart_programming/dart_programming_string_trim_method.htm) Returns the string without any leading and trailing whitespace. |
  | 4     | [compareTo()](https://www.tutorialspoint.com/dart_programming/dart_programming_string_compareto_method.htm) Compares this object to another. |
  | 5     | [replaceAll() ](https://www.tutorialspoint.com/dart_programming/dart_programming_string_replaceall_method.htm)Replaces all substrings that match the specified pattern with a given value. |
  | 6     | [split()](https://www.tutorialspoint.com/dart_programming/dart_programming_string_split_method.htm) Splits the string at matches of the specified delimiter and returns a list of substrings. |
  | 7     | [substring() ](https://www.tutorialspoint.com/dart_programming/dart_programming_substring_method.htm)Returns the substring of this string that extends from startIndex, inclusive, to endIndex, exclusive. |
  | 8     | [toString()](https://www.tutorialspoint.com/dart_programming/dart_programming_tostring_method.htm) Returns a string representation of this object. |
  | 9     | [codeUnitAt() ](https://www.tutorialspoint.com/dart_programming/dart_programming_string_codeunitat_method.htm)Returns the 16-bit UTF-16 code unit at the given index. |

- [ ] Review the numbers methods and consider where you might use these methods

  | Sr.No | Method & Description                                         |
  | ----- | ------------------------------------------------------------ |
  | 1     | [abs](https://www.tutorialspoint.com/dart_programming/dart_programming_abs_method.htm) Returns the absolute value of the number. |
  | 2     | [ceil](https://www.tutorialspoint.com/dart_programming/dart_programming_ceil_method.htm) Returns the least integer no smaller than the number. |
  | 3     | [compareTo ](https://www.tutorialspoint.com/dart_programming/dart_programming_compareto_method.htm)Compares this to other number. |
  | 4     | [Floor](https://www.tutorialspoint.com/dart_programming/dart_programming_floor_method.htm) Returns the greatest integer not greater than the current number. |
  | 5     | [remainder](https://www.tutorialspoint.com/dart_programming/dart_programming_remainder_method.htm) Returns the truncated remainder after dividing the two numbers. |
  | 6     | [Round](https://www.tutorialspoint.com/dart_programming/dart_programming_round_method.htm) Returns the integer closest to the current numbers. |
  | 7     | [toDouble ](https://www.tutorialspoint.com/dart_programming/dart_programming_todouble_method.htm)Returns the double equivalent of the number. |
  | 8     | [toInt](https://www.tutorialspoint.com/dart_programming/dart_programming_toint_method.htm) Returns the integer equivalent of the number. |
  | 9     | [toString ](https://www.tutorialspoint.com/dart_programming/dart_programming_number_tostring_method.htm)Returns the string equivalent representation of the number. |
  | 10    | [truncate ](https://www.tutorialspoint.com/dart_programming/dart_programming_truncate_method.htm)Returns an integer after discarding any fractional digits. |

- [ ] Review the array/list methods and consider where you might use these method

  | Sr.No | Methods & Description                                        |
  | ----- | ------------------------------------------------------------ |
  | 1     | [first ](https://www.tutorialspoint.com/dart_programming/dart_programming_list_first_method.htm)Returns the first element in the list. |
  | 2     | [isEmpty](https://www.tutorialspoint.com/dart_programming/dart_programming_list_isempty_method.htm) Returns true if the collection has no elements. |
  | 3     | [isNotEmpty ](https://www.tutorialspoint.com/dart_programming/dart_programming_list_isnotempty_method.htm)Returns true if the collection has at least one element. |
  | 4     | [length](https://www.tutorialspoint.com/dart_programming/dart_programming_list_length_method.htm) Returns the size of the list. |
  | 5     | [last ](https://www.tutorialspoint.com/dart_programming/dart_programming_list_last_method.htm)Returns the last element in the list. |
  | 6     | [reversed](https://www.tutorialspoint.com/dart_programming/dart_programming_list_reversed_method.htm) Returns an iterable object containing the lists values in the reverse order. |
  | 7     | [Single ](https://www.tutorialspoint.com/dart_programming/dart_programming_list_single_method.htm)Checks if the list has only one element and returns it. |

  > So far we have covered basic String, number and array variables. It is important you understand what methods are available to use as you will need to use these in forthcoming labs and the coursework assignment.

### Activity 2: Conditions and iteration ###

Programming requires checking conditions and repetition 

- [ ] Using the x integer variable created previously, you will now write an if statement to check if the value if greater than 50. If the condition is met print 'the variable is greater than 50' otherwise print 'the value is less than 50'

- [ ] Review further the other operators that you will need throughout the module and assessments

  **Arithmetic Operators** 

  | Sr.No | Operators & Meaning                                          |
  | ----- | ------------------------------------------------------------ |
  | 1     | **+**Add                                                     |
  | 2     | **−**Subtract                                                |
  | 3     | **-expr**Unary minus, also known as negation (reverse the sign of the expression) |
  | 4     | *****Multiply                                                |
  | 5     | **/**Divide                                                  |
  | 6     | **~/**Divide, returning an integer result                    |
  | 7     | **%**Get the remainder of an integer division (modulo)       |
  | 8     | **++**Increment                                              |
  | 9     | **--**Decrement                                              |

  **Equality and Relational Operators** test or defines the kind of relationship between two entities Returning a Boolean value

  | Operator | Description              | Example           |
  | -------- | ------------------------ | ----------------- |
  | >        | Greater than             | (A > B) is False  |
  | <        | Lesser than              | (A < B) is True   |
  | >=       | Greater than or equal to | (A >= B) is False |

  **Type test Operators** used for checking types at runtime

  | Operator | Meaning                                    |
  | -------- | ------------------------------------------ |
  | is       | True if the object has the specified type  |
  | is!      | False if the object has the specified type |

  **Bitwise Operators** 

  | Operator                     | Description | Example                                                      |
  | ---------------------------- | ----------- | ------------------------------------------------------------ |
  | Bitwise AND                  | a & b       | Returns a one in each bit position for which the corresponding bits of both operands are ones. |
  | Bitwise OR                   | a \| b      | Returns a one in each bit position for which the corresponding bits of either or both operands are ones. |
  | Bitwise XOR                  | a ^ b       | Returns a one in each bit position for which the corresponding bits of either but not both operands are ones. |
  | Bitwise NOT                  | ~ a         | Inverts the bits of its operand.                             |
  | Left shift                   | a ≪ b       | Shifts a in binary representation b (< 32) bits to the left, shifting in zeroes from the right. |
  | Sign propagating right shift | a ≫ b       | Shifts a in binary representation b (< 32) bits to the right, discarding bits shifted off. |

  **Assignment Operators**

  | Sr.No | Operator & Description                                       |
  | ----- | ------------------------------------------------------------ |
  | 1     | **=(Simple Assignment )**Assigns values from the right side operand to the left side operand**Ex**:C = A + B will assign the value of A + B into C |
  | 2     | **??=**Assign the value only if the variable is null         |
  | 3     | **+=(Add and Assignment)**It adds the right operand to the left operand and assigns the result to the left operand.**Ex**: C += A is equivalent to C = C + A |
  | 4     | **─=(Subtract and Assignment)**It subtracts the right operand from the left operand and assigns the result to the left operand.**Ex**: C -= A is equivalent to C = C – A |
  | 5     | ***=(Multiply and Assignment)**It multiplies the right operand with the left operand and assigns the result to the left operand.**Ex**: C *= A is equivalent to C = C * A |
  | 6     | **/=(Divide and Assignment)**It divides the left operand with the right operand and assigns the result to the left operand. |

  **Logical Operators**

  | Operator | Description                                                  | Example                       |
  | -------- | ------------------------------------------------------------ | ----------------------------- |
  | &&       | **And** − The operator returns true only if all the expressions specified return true | (A > 10 && B > 10) is False.  |
  | \|\|     | **OR** − The operator returns true if at least one of the expressions specified return true | (A > 10 \|\| B > 10) is True. |
  | !        | **NOT** − The operator returns the inverse of the expression’s result. For E.g.: !(7>5) returns false | !(A > 10) is True.            |

  In programming it is often required to repeat an execution. To do this, there are multiple approaches such as loops (for, while and do while).

- [ ] Write a for loop statement that loops through the array printing the item on a new line

- [ ] Try an alternative loop (while) to give you exposure to a different approach 

### Activity 3: Maps ###

The map object is a s key/value pair. This means the items in the map contain a key to identify the item and a corresponding value. 

You can declare a map by:

1. Map Literals 

   ```dart
   var mapVariable = { key1:value1, key2:value2 [,…..,key_n:value_n] }
   ```

2. Map constructor 

   ```dart
   var mapVariable = new Map();
   mapVariable[key] = value
   ```

- [ ] Using a Map Literal, declare the map variable name as student with the following key/value pairs - id, name, email with your own values 

- [ ] Update the code to include an additional pair 

  ```
  student['course'] = 'Software Engineering';
  ```

- [ ] Write a print statement to print the map to the console

- [ ] Covert the Map Literal using the Map Constructor approach

- [ ] Review the map properties and functions

  | Sr.No | Property / Function & Description                            |
  | ----- | ------------------------------------------------------------ |
  | 1     | [Keys ](https://www.tutorialspoint.com/dart_programming/dart_programming_map_keys.htm)Returns an iterable object representing keys |
  | 2     | [Values](https://www.tutorialspoint.com/dart_programming/dart_programming_map_values.htm) Returns an iterable object representing values |
  | 3     | [Length ](https://www.tutorialspoint.com/dart_programming/dart_programming_map_length.htm)Returns the size of the Map |
  | 4     | [isEmpty ](https://www.tutorialspoint.com/dart_programming/dart_programming_map_isempty.htm)Returns true if the Map is an empty Map |
  | 5     | [isNotEmpty](https://www.tutorialspoint.com/dart_programming/dart_programming_map_isnotempty.htm) Returns true if the Map is an empty Map |
  | 6     | [addAll() ](https://www.tutorialspoint.com/dart_programming/dart_programming_map_function_addall.htm)Adds all key-value pairs of other to this map. |
  | 7     | [clear() ](https://www.tutorialspoint.com/dart_programming/dart_programming_map_function_clear.htm)Removes all pairs from the map. |
  | 8     | [remove()](https://www.tutorialspoint.com/dart_programming/dart_programming_map_function_remove.htm) Removes key and its associated value, if present, from the map. |
  | 9     | [forEach()](https://www.tutorialspoint.com/dart_programming/dart_programming_map_function_foreach.htm) Applies f to each key-value pair of the map. |

### Activity 4: Functions ###

Functions are the building blocks of readable, manageable and reusable code. A function is a set of statements that perform a particular task. Writing code in functions allows the program to be organised into logical blocks. A function's declaration tells the compiler the name, return type and if any parameters are needed.

Recursive functions are used to iterate over an operation by having a function call itself repeatedly until a result is met. 

Lambda functions are a concise way of writing functions using the an arrow notation. 

```dart
[return_type]function_name(parameters)=>expression;
```

For example:

```dart
void main() { 
   printMsg(); 
}
printMsg()=>print("hello");
```

Would be the same as:

```dart
void main() { 
   printMsg(); 
}
printMsg(){
	print('hello');
}
```

- [ ] Modify the code so that adding to the student map is performed within a function. **Hint** you will need to pass three parameters to this function, the map object, key and value

> You should continue learning outside of the timetabled classes. Here are a range of resources that might help you write better Dart code.
>
> - [Dart Cheatsheet](https://dart.dev/codelabs/dart-cheatsheet)
> - [Dart Language](https://dart.dev/guides/language/cheatsheet)
> - [Introduction to Dart from Java](https://codelabs.developers.google.com/codelabs/from-java-to-dart/#1)
> - [DartPad](https://dartpad.dev/?null_safety=true)
> - [Visual Studio Code Extensions for Flutter Development](https://www.syncfusion.com/blogs/post/10-best-visual-studio-code-extensions-for-flutter-development.aspx)
> - [Raywenderlich](https://www.raywenderlich.com/22685966-dart-basics0)
> - [Dart Academy](https://dart.academy/)
> - [Dart Language Tour](https://dart.dev/guides/language/language-tour)

> **Remember** have your worked signed off weekly by your tutor.
